%h2 Bet Slip

- if @pending_wagers.any?
  .card.text-bg-warning{ style: "width: 100%;" }
    .card-body
      %h5.card-title Pending Wagers
      %p.card-text Click "Confirm" to lock them in.
    %ul.list-group.list-group-flush
      - @pending_wagers.each_with_index do |wager, index|
        %li.d-flex.list-group-item.align-items-center{ id: "wager-#{wager.id}", class: ("bg-warning-subtle" if index % 2 == 0) }
          .flex-fill= wager
          .text-success= "To Win: #{ActionController::Base.helpers.number_to_currency(wager.potential_profit)}"
          .ms-2= link_to "Cancel", wager_path(wager), method: :delete, remote: true, data: { confirm: "Delete this wager?" }, class: "btn btn-secondary"

    .card-body
      = link_to "Confirm", bet_slip_path(@pending_bet_slip), method: :put, class: "card-link btn btn-primary"
      = link_to "Cancel All", bet_slip_path(@pending_bet_slip), method: :delete, data: { confirm: "Cancel #{@pending_wagers.size} wager(s)?"}, class: "card-link btn btn-secondary"

- if @confirmed_wagers.any?
  .card.text-bg-success.mt-3{ style: "width: 100%;" }
    .card-body
      %h5.card-title Confirmed Wagers
      %p.card-text= "Cash in play: #{ActionController::Base.helpers.number_to_currency(@confirmed_wagers.sum(&:amount))}"
    %ul.list-group.list-group-flush
      - @confirmed_wagers.each do |wager|
        %li.list-group-item
          = wager
          %br
          %small
            %em= "Potential profit #{ActionController::Base.helpers.number_to_currency(wager.potential_profit)}"
